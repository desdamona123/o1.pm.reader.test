<!-- templates/dashboard.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>
</head>
<body>
    <h1>Welcome to the Dashboard</h1>
    <p>You are logged in as: {{ session.user }}</p>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul>
          {% for category, message in messages %}
            <li style="color:red;">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('main_bp.generate_story') }}">
        <label for="theme">Story Theme:</label>
        <input type="text" id="theme" name="theme" required>
        <br><br>
        <label for="word_count">Word Count (max 300):</label>
        <input type="number" id="word_count" name="word_count" min="1" max="300">
        <br><br>
        <button type="submit">Generate Story</button>
    </form>

    <br>
    <a href="{{ url_for('main_bp.logout') }}">Logout</a>
</body>
</html>